<!DOCTYPE html>
<html class="no-js" lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://rosseti-astu-preparator.github.io/%D0%A6%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B8%20%D0%BF%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9/%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D1%8B%D0%B5%20%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B8/" rel="canonical"/>
<link href="../%D0%A6%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B8%20%D0%BF%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9/" rel="prev"/>
<link href="../../%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.50" name="generator"/>
<title>Программные обработчики - РОССЕТИ АСТУ</title>
<link href="../../assets/stylesheets/main.a40c8224.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="custom" data-md-color-primary="custom" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#_1">
          Перейти к содержанию
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Верхний колонтитул" class="md-header__inner md-grid">
<a aria-label="РОССЕТИ АСТУ" class="md-header__button md-logo" data-md-component="logo" href="../.." title="РОССЕТИ АСТУ">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            РОССЕТИ АСТУ
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Программные обработчики
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Поиск" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Поиск" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Поиск" class="md-search__options">
<button aria-label="Очистить" class="md-search__icon md-icon" tabindex="-1" title="Очистить" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Инициализация поиска
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Навигация" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="РОССЕТИ АСТУ" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="РОССЕТИ АСТУ">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    РОССЕТИ АСТУ
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Начало работы
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Начало работы
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B/%D0%9F%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5/">
<span class="md-ellipsis">
    Подключение к системе
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B/%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F%20%D0%91%D0%94/">
<span class="md-ellipsis">
    Функциональность пользовательской БД
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9E%D0%B1%D1%89%D0%B8%D0%B5%20%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8%20%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2/%D0%9E%D0%B1%D1%89%D0%B8%D0%B5%20%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8%20%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2/">
<span class="md-ellipsis">
    Общие функции разделов
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Коллекции
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Коллекции
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9A%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/%D0%9A%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/">
<span class="md-ellipsis">
    Коллекции
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9A%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/%D0%98%D0%BC%D0%BF%D0%BE%D1%80%D1%82%20%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2/">
<span class="md-ellipsis">
    Импорт файлов
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9A%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/%D0%AD%D0%BA%D1%81%D0%BF%D0%BE%D1%80%D1%82%20%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2/">
<span class="md-ellipsis">
    Экспорт файлов
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Настройка
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Настройка
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8/">
<span class="md-ellipsis">
    Создание настройки
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
<span class="md-ellipsis">
    Преобразование данных
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            Преобразование данных
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/%D0%90%D0%B3%D1%80%D0%B5%D0%B3%D0%B0%D1%86%D0%B8%D1%8F/">
<span class="md-ellipsis">
    Агрегация
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%86%D0%B8%D1%8F/">
<span class="md-ellipsis">
    Проекция
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/%D0%A1%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B8%D1%82%D1%8C/">
<span class="md-ellipsis">
    Соединить
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/%D0%9E%D0%B1%D1%8A%D0%B5%D0%B4%D0%B8%D0%BD%D0%B8%D1%82%D1%8C/">
<span class="md-ellipsis">
    Объединить
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D1%80%D0%B8%20%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D0%B8%20%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%B0/">
<span class="md-ellipsis">
    Преобразование при помощи шаблона
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/">
<span class="md-ellipsis">
    Таблица коллекции
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8/%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8/">
<span class="md-ellipsis">
    Редактирование настройки
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8/%D0%9F%D0%B5%D1%80%D1%81%D0%B8%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5/">
<span class="md-ellipsis">
    Персистирование
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0/%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8/%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%20%D1%84%D0%B8%D0%BA%D1%81%D0%B0%D1%86%D0%B8%D0%B8%20%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9/">
<span class="md-ellipsis">
    Проверка фиксации изменений
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D1%8B/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D1%8B/">
<span class="md-ellipsis">
    Процессы
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Шаблоны
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Шаблоны
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE%20%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%B0/">
<span class="md-ellipsis">
    Создание шаблона
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%8B/%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%20%D0%BF%D0%BE%20%D1%82%D0%B8%D0%BF%D1%83%20%D0%98%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA/">
<span class="md-ellipsis">
    Параметр по типу "Источник"
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Цепочки
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Цепочки
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%A6%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B8%20%D0%BF%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9/">
<span class="md-ellipsis">
    Цепочки преобразований
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Программные обработчики
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/">
<span class="md-ellipsis">
    Файлы
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset"><a class="md-content__button md-icon" download="Программные обработчики.pdf" href="../../Цепочки преобразований/Программные обработчики/index.pdf" title="Save to PDF"><html><body><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m14 2 6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm4 18V9h-5V4H6v16zm-6-1-4-4h2.5v-3h3v3H16z"></path></svg></body></html></a>
<h1 id="_1">Программные обработчики</h1>
<p>Программные обработчики реализуются на языке <strong>Python</strong> по определённым правилам, и объединяются в логические модули и проекты для включения в состав конфигурации системы.
Создание программных обработчиков может быть выполнено с использованием любой IDE или редактора, который поддерживает программирование на <strong>Python</strong>.
Для описания программных обработчиков, модулей и проектов используются следующие классы.</p>
<p><strong>Processor</strong> – обработчик.</p>
<p>Поля:</p>
<ul>
<li>name: str – имя процессора уникальное в пределах модуля</li>
<li>title: str – заголовок</li>
<li>description: str – описание</li>
<li>inputs: dict[str, Port] – входы обработчика, каждый описывается объектом типа Port</li>
<li>outputs: dict[str, Port] – выходы обработчика каждый, описывается объектом типа Port</li>
<li>action: Callable[[Task], None] – функция реализующая алгоритм обработки с параметром типа Task, который обеспечивает доступ к входным данным по имени входа и запись выходных данных в заданный выход.</li>
</ul>
<p><strong>Port</strong> – вход или выход обработчика</p>
<p>Поля:</p>
<ul>
<li>name: str – имя процессора уникальное в пределах модуля</li>
<li>title: str – заголовок</li>
<li>description: str – описание.</li>
</ul>
<p><strong>Module</strong> - Модуль. Содержит набор программных обработчиков, каждый обработчик включен в один конкретный модуль.</p>
<p>Поля:</p>
<ul>
<li>name: str – уникальное имя модуля</li>
<li>title: str – заголовок</li>
<li>description: str – описание</li>
<li>processors: dict[str, Processor] – набор обработчиков в модуле.</li>
</ul>
<p><strong>Project</strong> – Проект. Содержит набор модулей, один модуль может входить в разные проекты.</p>
<p>Поля:</p>
<ul>
<li>name: str – уникальное имя модуля</li>
<li>modules: dict[str, Module] – набор обработчиков в модуле</li>
</ul>
<p>Описанный с помощью перечисленных выше классов проект содержащий программные обработчики публикуется в определенную пользовательскую базу данных. После этого, программные обработчики проекта доступны для выбора в качестве звена цепочки преобразований.</p>
<p>Пример<br/>
<strong>Создание обработчиков.</strong></p>
<p>Приведен пример создания 2-х обработчиков,- модуля и проекта.</p>
<p>В данном примере все компоненты описаны в одном файле.
При реальной (особенно совместной) разработке важно уделить внимание декомпозиции.
Декларация обработчиков модулей и проектов может быть разнесена по отдельным функциям, файлам и папкам, оптимальная структура кода будет зависеть от особенностей проекта. </p>
<blockquote>
<p>Рекомендуется хранение исходного кода обработчиков в GIT.</p>
</blockquote>
<pre><code>example_project.py

from datetime import datetime
from dpt import Module, Project, Task, Processor


# Создание обработчика simple
def create_simple_processor():
    processor = Processor(
        name="simple",
        title="Простой пример",
        description="Добавляет колонку с текущей датой и сообщением",
    )
    # Добавление входа и выхода
    processor.add_input()
    processor.add_output()


    # Объявление функции с алгоритмом обработки
    def action(task: Task):
        # Чтение входящего набора данных
        data = task.get_reader().read_all()
        # Обработка данных
        for item in data:
            item["info"] = "Обработано питоном " + str(datetime.now())
        # Запись исходящего набора данных
        writer = task.get_writer()
        writer.clear()
        writer.write_many(data)
        writer.close()


    # Назначение функции action в качестве действия для процессора
    processor.set_action(action)


    return processor


# Создание обработчика multiport
def create_multiport_processor():
    processor = Processor(
        name="multiport",
        title="Пример с несколькими портами",
        description="Объединяет данные из двух наборов данных в один. Дополнительно выдает набор данных со статистикой",
    )


    # Добавление именованных входов и выходов
    processor.add_named_input("data_set1")
    processor.add_named_input("data_set2")
    processor.add_named_output("all_data")
    processor.add_named_output("stat")


    # Объявление функции с алгоритмом обработки
    def action(task: Task):
        # Получение входящих наборов данных по имени порта
        reader1 = task.get_named_reader("data_set1")
        reader2 = task.get_named_reader("data_set2")


        # Запись данных в выход all_data
        all_data_writer = task.get_named_writer("all_data")
        all_data_writer.clear()
        all_data_writer.write_many(list(reader1.read_all()))
        all_data_writer.write_many(list(reader2.read_all()))
        all_data_writer.close()


        # Запись данных в выход stat
        stat_writer = task.get_named_writer("stat")
        stat_writer.clear()
        stat_writer.write_many(
            [
                {"name": "data_set1", "count": reader1.get_count()},
                {"name": "data_set2", "count": reader2.get_count()},
            ]
        )
        stat_writer.close()


    # Назначение функции action в качестве действия для процессора
    processor.set_action(action)


    return processor


def main():
    # Создание модуля и добавление в него 2-х обработчиков
    module = Module("examples")
    module.add_processors([create_simple_processor(), create_multiport_processor()])


    # Создание проекта и добавление в него модуля
    project = Project("example")
    project.add_module(module)
    return project
</code></pre>
<p><strong>Публикация</strong></p>
<p>Публикация проекта с программными обработчиками в заданный экземпляр и базу данных препаратора с помощью скрипта.</p>
<pre><code>from dpt import management
# Строка соединения с Mongo DB (из подключения в препараторе)
management.set_connection("mongodb://...")
# База данных
management.set_workspace("demo")


management.deploy_project(
    # Корневая папка в которой находятся Python файлы с определением обработчиков
    root_path=r"C:\Repos\datafabric\dpt-python-config\configuration",
    # Папки и файлы которые нужно включить в сборку (по умолчанию входит все содержимое корневой папки)
    include=["processors/example_project.py"],
    # Файл в котором находится функция создающая и возвращающая проект
    main_file_path=r"processors/example_project.py",
    # Имя функции которая создает и возвращает проект
    main_func_name="main",
)
</code></pre>
<p>В результате публикации обработчики становятся доступны для выбора в разделе «Цепочки».</p>
<p>Ниже приведено описание следующих программных обработчиков:</p>
<ul>
<li>Импорт JSON.</li>
<li>Импорт Excel.</li>
<li>Семантический запрос.</li>
<li>Сопоставление.</li>
<li>Отправка сообщений в платформу.</li>
</ul>
<p>Дополнительно, доступна следующая функциональность:</p>
<ul>
<li>Набор коллекций по маске.</li>
<li>Сводный отчет по результатам сопоставления.</li>
</ul>
<h1 id="json">Импорт JSON</h1>
<p>Программный обработчик предназначенный для импорта данных из JSON файла, размещенного в файловом хранилище.</p>
<h4 id="_2">Загрузка файла в файловое хранилище</h4>
<p>Перейдите в раздел <a href="../../%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/">Файлы</a> и загрузите <strong>файл формата JSON</strong> с данными.
<img alt='Раздел "Файлы"' src="../../images/7_Workflow/JSON/1_File_section.png"/></p>
<p><strong>Пример файла:</strong></p>
<pre><code class="language-json">{
     "data": [
       {
         "id": 1,
         "name": "Объект 1"
       },
       {
         "id": 2,
         "name": "Объект 2"
       }
     ]
   }
</code></pre>
<blockquote>
<p>Корневой объект должен содержать одно поле с массивом объектов (в данном примере — поле data).</p>
</blockquote>
<p>Убедитесь, что файл успешно добавлен в файловое хранилище.
<img alt="Добавление файла в файловое хранилище" src="../../images/7_Workflow/JSON/2_add_json.png"/></p>
<h4 id="_3">Настройка параметров обработчика</h4>
<p>В разделе <a href="../%D0%A6%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B8%20%D0%BF%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9/">Цепочки</a> настройте <strong>программный обработчик</strong>:</p>
<ol>
<li>
<p>Выберите программный обработчик из списка.
    <img alt="Выбор программного обработчика" src="../../images/7_Workflow/JSON/4_Choose_processor.png"/></p>
<p><strong>Результат:</strong><br/>
В рабочей области появится объект обработчика в виде блока с синим заголовком.
<img alt="Обработчик в рабочей области" src="../../images/7_Workflow/JSON/5_Json%20processor%20in%20workspace.png"/>
2. В разделе <a href="../%D0%A6%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B8%20%D0%BF%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9/">Цепочки</a> настройте параметры <strong>обработчика</strong>:</p>
<ul>
<li>Нажмите <strong>params</strong> на блоке, в результате чего отобразится панель для настройки параметров.
<img alt='Поле "params"' src="../../images/7_Workflow/JSON/7_params_field.png"/></li>
<li>В форме <strong>"Данные"</strong> пропишите параметры процессора в формате <strong>Json</strong>:<ul>
<li>Скопируйте путь к загруженному <a href="../%D0%A6%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B8%20%D0%BF%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9/">Цепочки</a> из раздела <a href="../../%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/">Файлы</a>.
<img alt="Копирование путей" src="../../images/7_Workflow/JSON/6_Copy_path.png"/></li>
<li>В поле "<strong>file_path</strong>" подставьте путь к файлу в файловом хранилище.</li>
<li>В поле "<strong>array_field</strong>": введите имя поля, содержащего массив объектов (в данном примере — data).
<img alt="Параметры значений" src="../../images/7_Workflow/JSON/8_params_value.png"/></li>
</ul>
</li>
</ul>
</li>
</ol>
<pre><code class="language-json">{
    "file_path": "путь_к_JSON_файлу.json",
    "array_field": "data"
}
</code></pre>
<p>Сохраните импортированные данные в коллекцию:</p>
<ul>
<li>Выберите коллекцию из списка на нижней панели.
<img alt="Добавление коллекций" src="../../images/7_Workflow/JSON/9_add_collection.png"/></li>
</ul>
<p><strong>Результат:</strong><br/>
В рабочей области появится объект обработчика в виде блока с желтым заголовком.</p>
<ul>
<li>Подключите <strong>выходную коллекцию</strong> к <strong>обработчику</strong>.
<img alt="Добавление связи" src="../../images/7_Workflow/JSON/10_add_svyaz.png"/></li>
</ul>
<h4 id="_4">Запуск обработчика</h4>
<p>Нажмите кнопку запуска на блоке обработчика.
<img alt="Запуск блока" src="../../images/7_Workflow/JSON/11_Zapusk_blocka.png"/></p>
<p><strong>Результат:</strong><br/>
В рабочей области отобразится статус успешного выполнения.
<img alt="Статус успешного запуска" src="../../images/7_Workflow/JSON/12_success_zapusk.png"/></p>
<h4 id="_5">Проверка результата</h4>
<p>В разделе <strong>"Коллекции"</strong> убедитесь, что данные из JSON-файла корректно добавлены в выбранную коллекцию.
<img alt="Коллекция: проверка результата" src="../../images/7_Workflow/JSON/13_collection_data.png"/></p>
<h4 id="_6">Отладка скрипта</h4>
<p>Если обработчик возвращает ошибку:
<img alt="Статус запуска: ошибка" src="../../images/7_Workflow/JSON/14_bad_zapusk.png"/>
<img alt="Отладка скрипта" src="../../images/7_Workflow/JSON/15_bad_zapusk_mastakes_window.png"/>
Нажмите на заголовок блока, чтобы открыть панель настройки обработчика.
<img alt="Панель настройки обработчика" src="../../images/7_Workflow/JSON/16_widnow_config_processor.png"/>
В панели настройки вызовите функцию скрипта для отладки.
<img alt="Скрипт для отладки" src="../../images/7_Workflow/JSON/17_scrypt_dlya_otladki.png"/>
Скопируйте текст скрипта в среду разработки и выполните отладку.</p>
<h1 id="excel">Импорт Excel</h1>
<p><em>Программный обработчик предназначенный для импорта данных из Excel файла, размещенного в файловом хранилище.</em></p>
<p>В разделе <a href="../../%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/">Файлы</a> загрузите файл формата <strong>Excel</strong>.
<img alt="Загрузка файла в хранилище" src="../../images/7_Workflow/Excel/upload_file_to_s3.png"/></p>
<h4 id="_7">Инициализация обработчика</h4>
<p>В разделе <a href="../%D0%A6%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B8%20%D0%BF%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9/">Цепочки</a> настройте обработчик.
<img alt="Вызов списка обработчиков" src="../../images/7_Workflow/Excel/%D0%92%D1%8B%D0%B7%D0%BE%D0%B2%20%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0%20%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%BE%D0%B2.png"/>
Выберите обработчик из списка.</p>
<p><strong>Результат:</strong>
Выбранный объект отобразится в рабочей области в виде блока с синим заголовком.</p>
<p>Скопируйте путь к файлу в разделе <a href="../../%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/">Файлы</a>.
<img alt="Копирование пути" src="../../images/7_Workflow/Excel/copy_path.png"/>
Задайте параметры в поле <strong>params</strong>:</p>
<pre><code class="language-json">{
    "file_path": "путь_к_тестовому_файлу.xlsx"
}
</code></pre>
<p>Подключите выходную коллекцию к обработчику.
<img alt="подключение коллекции к обработчику" src="../../images/7_Workflow/Excel/Add_collection.png"/>
Запустите обработчик.
<img alt="Запуск обработчика" src="../../images/7_Workflow/Excel/Launch_processor.png"/></p>
<p><strong>Результат:</strong>
В рабочей области должен отобразиться статус успешного запуска процесса, а в списке коллекций объект с данными из хранилища.
<img alt="статус успешного запуска" src="../../images/7_Workflow/Excel/Success_action.png"/>
Проверьте, что данные из <code>XLSX</code> файла корректно добавлены в раздел <a href="../../%D0%9A%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/%D0%9A%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/">Коллекции</a>.</p>
<h4 id="_8">Отладка скрипта</h4>
<p>В случае, если запуск обработчика возвращает ошибку, отладьте скрипт вручную:</p>
<ol>
<li>Нажмите на заголовок блока.
    <img alt="Заголовок блока" src="../../images/7_Workflow/Excel/Tap_block_header.png"/><br/>
<strong>Результат:</strong><br/>
    Слева отобразится панель настройки обработчика.</li>
<li>Вызовите функцию скрипта для отладки.
    <img alt="Скрипт для отладки" src="../../images/7_Workflow/Excel/Config_processor.png"/></li>
<li>Скопируйте текст и отладьте его в среде разработки.
    <img alt="Текст скрипта" src="../../images/7_Workflow/Excel/Script_text.png"/></li>
</ol>
<h1 id="_9">Семантический запрос</h1>
<p>Ниже описан пример настройки цепочки преобразований с использованием объекта <strong>Программный обработчик</strong>, выполняющего семантический запрос.</p>
<h4 id="_10">Загрузка данных и подготовка</h4>
<p>Перейдите в программное приложение <strong>Редактор модели</strong> и, в списке <strong>"Онтологии"</strong>, выберите <strong>"Семантические запросы"</strong>.
<img alt='Редактор модели: список "Онтологии"' src="../../images/7_Workflow/Sem_query/1_model_editor_ontology.png"/>
Скопируйте идентификатор запроса без префикса.
<img alt="Идентификатор запроса" src="../../images/7_Workflow/Sem_query/2_IRI_sem_query.png"/></p>
<h4 id="_11">Инициализация обработчика</h4>
<p>В разделе "Цепочки" настройте программный обработчик:</p>
<ul>
<li>Выберите обработчик для семантического запроса из списка.</li>
<li>Обработчик отобразится в рабочей области в виде блока с синим заголовком.</li>
</ul>
<p><img alt="Обработчик: Семантический запрос" src="../../images/7_Workflow/Sem_query/3_sem_query_block.png"/></p>
<h4 id="_12">Настройка параметров обработчика</h4>
<p>В блоке обработчика нажмите <strong>params</strong>, чтобы открыть панель настройки параметров.</p>
<p><img alt="Поле для настройки параметров" src="../../images/7_Workflow/Sem_query/4_sem_query_params.png"/>
Задайте параметры обработчика в формате JSON:</p>
<ul>
<li>format: укажите формат данных на выходе (csv для плоского формата или json для иерархического).</li>
<li>sem_query_id: задайте идентификатор семантического запроса без <a href="#" title="Добавляемый текст перед названием новых полей, полученных из массива">префикса</a>а.</li>
<li>root_entity_ids: перечислите идентификаторы объектов без <a href="#" title="Добавляемый текст перед названием новых полей, полученных из массива">префиксов</a> (необязательный параметр). Если он отсутствует, запрос применяется ко всем объектам нужного типа.</li>
</ul>
<p>Пример параметров для csv-формата:</p>
<pre><code class="language-json">{
    "format": "csv",
    "sem_query_id": "SemanticQuery_22815230-67d7-4de8-927a-002010abad77"
}
</code></pre>
<p>Пример параметров для json-формата:</p>
<pre><code class="language-json">{
    "format": "json",
    "sem_query_id": "SemanticQuery_c061e503-c81c-4c64-9ad9-7047cb2e9ed6",
     "root_entity_ids": [
            "e6e30190-624c-4664-b649-47f833d2a869",
            "556bcf33-0d51-4303-b193-62a6ad389318"
        ]
}
</code></pre>
<p>Подключите выходную коллекцию:</p>
<ul>
<li>Выберите коллекцию из списка в нижней панели.</li>
<li>Соедините блок обработчика с выходной коллекцией.
<img alt="Подключение коллекции для корректных данных" src="../../images/7_Workflow/Sem_query/5_add_correct_collection.png"/></li>
</ul>
<blockquote>
<p>В результате запуска обработчика может возникнуть ошибка, связанная с некорректным форматированием входного CSV-файла.</p>
</blockquote>
<ul>
<li>Добавьте еще одну коллекцию на вход для записи расхождения в данных.</li>
</ul>
<p><img alt="Подключение коллекции для данных с некорректным форматированием" src="../../images/7_Workflow/Sem_query/6_add_incorrect_collection.png"/></p>
<blockquote>
<p>Коллекция должна быть добавлена в тот же порт.</p>
</blockquote>
<h4 id="_13">Запуск обработчика</h4>
<p>Нажмите на элемент запуска блока обработчика.</p>
<p><img alt="Запуск блока" src="../../images/7_Workflow/Sem_query/7_start_block.png"/></p>
<p><strong>Результат:</strong> </p>
<p>В рабочей области отобразится статус успешного выполнения. Данные будут сохранены в формате JSON или CSV в зависимости от указанных параметров.</p>
<h4 id="_14">Проверка результата</h4>
<p>В разделе "Коллекции" убедитесь, что данные корректно добавлены в выбранную коллекцию.</p>
<p><img alt="Семантический запрос. Результат" src="../../images/7_Workflow/Sem_query/8_sem_query_result.png"/></p>
<h1 id="_15">Сопоставление</h1>
<p>Программный обработчик "<strong>Сопоставление</strong>" выполняет следующие задачи:</p>
<ul>
<li>Сопоставление объектов из различных систем по выделенному ключу.</li>
<li>Формирование выходных данных в соответствии с алгоритмом:<ul>
<li>Дубликаты объектов.</li>
<li>Справочники ключей без дубликатов. </li>
<li>Сопоставленные объекты с указанием идентификаторов систем. </li>
<li>Несопоставленные объекты для каждой системы.</li>
</ul>
</li>
</ul>
<h4 id="_16">Входные данные</h4>
<p>Для корректной работы обработчика необходимо соблюсти имена полей коллекции:</p>
<ul>
<li>Система: идентификатор системы (например, "СУПА"). </li>
<li>Тип объекта: тип объектов (например, "подстанции"). </li>
<li>Ключ: уникальный ключ для сопоставления. </li>
<li>Идентификатор: уникальный идентификатор объекта.</li>
</ul>
<h4 id="_17">Выходные данные</h4>
<p>После выполнения обработчика пользователь получает следующие результаты:</p>
<ol>
<li><strong>Дубликаты:</strong> список объектов, имеющих повторяющиеся ключи сопоставления. Выводится отдельно для каждой системы.</li>
<li><strong>Справочники ключей:</strong> список входных объектов без дубликатов.</li>
<li><strong>Сопоставленные объекты:</strong> объекты, для которых ключи совпадают, объединяются следующим образом:<ul>
<li>Запись из справочника ключей системы 1 с добавлением идентификатора системы 2.</li>
<li>Запись из справочника ключей системы 2 с добавлением идентификатора системы 1.</li>
</ul>
</li>
<li><strong>Несопоставленные объекты:</strong> списки объектов, для которых не найдено совпадение по ключу, отдельно для каждой системы.</li>
</ol>
<h4 id="_18">Порядок работы</h4>
<ol>
<li>
<p>Добавьте обработчик в рабочую область.<br/>
<img alt="Добавление процессора" src="../../images/7_Workflow/Comparation/1_add_processor.png"/></p>
</li>
<li>
<p>Добавьте входные коллекции и подключите их к процессору.<br/>
<img alt="Подключение источника" src="../../images/7_Workflow/Comparation/2_add_source.png"/></p>
</li>
</ol>
<p>Обработчик поддерживает два способа подключения входных данных:</p>
<ul>
<li><strong>Явное подключение</strong>: пользователь вручную задаёт коллекции для системы 1 и системы 2.</li>
<li><strong>Подключение по маске</strong>: использованием маски можно подключить сразу несколько коллекций, соответствующих указанным условиям (например, все типы оборудования из определённой системы).</li>
</ul>
<ol start="3">
<li>Добавьте выходные данные и задайте им имена.</li>
<li>Запустите обработчик.</li>
</ol>
<p><img alt="Запуск обработчика" src="../../images/7_Workflow/Comparation/3_launch_processor.png"/></p>
<p><strong>Результат:</strong><br/>
Выходные данные будут добавлены в раздел коллекции.<br/>
<img alt="Выходные данные" src="../../images/7_Workflow/Comparation/4_output_data.png"/></p>
<h1 id="_19">Набор коллекций по маске</h1>
<p>Данная функция предназначена для подключения набора коллекций в <strong>обработчике</strong> с использованием маски. Это позволяет:</p>
<ul>
<li>Обрабатывать данные сразу из нескольких коллекций.</li>
<li>Разделять данные из одной коллекции (выход обработчика) на несколько коллекций.</li>
</ul>
<h4 id="_20">Входные данные</h4>
<p><strong>Порядок работы:</strong></p>
<p>Откройте исходную цепочку преобразований.
<img alt="Цепочка-источник" src="../../images/7_Workflow/Mask/1_source_workflow.png"/></p>
<blockquote>
<p>Обратите внимание, что в источнике параметры не заполнены.</p>
</blockquote>
<p>Задайте маску в параметрах цепочки преобразований:</p>
<ul>
<li>Нажмите на объект, по которому хотите задать маску.</li>
<li>В отобразившемся окне, введите параметры маски через нижнее подчеркивание:<ul>
<li>Укажите постоянную часть маски для общей части наименования коллекции.</li>
<li>Укажите переменную часть маски в фигурных скобках.</li>
</ul>
</li>
</ul>
<p><img alt="Маска с параметрами" src="../../images/7_Workflow/Mask/2_mask_params.png"/></p>
<p><strong>Результат:</strong>
Обработчик автоматически найдет все коллекции, содержащие постоянную часть маски
<img alt="Результат соответствия маске" src="../../images/7_Workflow/Mask/2_mask_params_result.png"/></p>
<p><strong>Пример 1:</strong></p>
<ul>
<li>Введите маску <strong>"СК-11_{x}"</strong>, где <strong>"СК-11"</strong> является постоянной частью, а <strong>"{x}"</strong> - переменной.</li>
<li>Введите маску <strong>"СУПА_{y}"</strong>, где <strong>"СУПА"</strong> является постоянной частью, а <strong>"{y}"</strong> - переменной.</li>
</ul>
<p><strong>Результат:</strong></p>
<p>В окно с параметрами подтянутся все коллекции из текущей БД:</p>
<ul>
<li>В имени которых будет присутствовать постоянная часть маски <strong>"СК-11"</strong> и <strong>"СУПА"</strong>.</li>
<li>
<p>Структура маски будет соответствовать - <strong>"[постоянная часть]_{переменная часть}"</strong>.
<img alt="Пример 1" src="../../images/7_Workflow/Mask/3_mask_params_example_1.png"/>
<strong>Пример 2:</strong></p>
</li>
<li>
<p>Задайте маску <strong>"{x}_{y}_unmatched"</strong>, где <strong>"x"</strong> и <strong>"у"</strong> - переменные, а <strong>"unmatched"</strong> - постоянная часть.</p>
</li>
</ul>
<p><strong>Результат:</strong></p>
<p>В окно с параметрами подтянутся все коллекции из текущей БД:</p>
<ul>
<li>В имени которых будет присутствовать постоянная часть маски <strong>"unmatched"</strong>.</li>
<li>Структура маски будет соответствовать - <strong>"{переменная часть}_{переменная часть}_[постоянная часть]"</strong>.
<img alt="Пример 2" src="../../images/7_Workflow/Mask/3_mask_params_example_2.png"/>
После настройки маски запустите обработчик. Для проверки результата, нажмите на необходимый блок и отобразите данные.
<img alt="Результат запуска обработчика" src="../../images/7_Workflow/Mask/4_mask_result.png"/></li>
</ul>
<p><strong>Результат:</strong></p>
<p>Производные данные содержат поля с наименованием переменной части коллекции, а также поле, с результатом сопоставления по условию.
<img alt="Результат запуска блока" src="../../images/7_Workflow/Mask/5_result_pusk_block.png"/></p>
<h4 id="_21">Выходные данные</h4>
<p>Для распределения выходных данных задайте маску по аналогии.
<strong>Например:</strong></p>
<p>{type}_{system}_processed</p>
<p><strong>Результат:</strong></p>
<p>Обработчик создаст отдельные коллекции для каждого типа объекта и системы:</p>
<ul>
<li>transformer_SK-11_processed</li>
<li>circuitbreaker_SPA_processed.</li>
</ul>
<blockquote>
<p>Если маска не совпадает с именами коллекций, данные не будут обработаны. Имена коллекций должны быть стандартизированы и соответствовать заданной структуре.</p>
</blockquote>
<h1 id="_22">Сводный отчет по результатам сопоставления</h1>
<p>Программный обработчик <strong>"Сводный отчет"</strong> принимает на вход коллекции, и на выходе формирует таблицу со статистикой. Таблица позволяет анализировать данные, переходить к исходным коллекциям и применять фильтры.</p>
<h4 id="_23">Входные данные</h4>
<p>На вход могут подаваться следующие типы коллекций:</p>
<ul>
<li><strong>Исключены из выгрузки:</strong> коллекции с перечнем объектов, исключенных из сопоставления.</li>
<li><strong>Выделено:</strong> коллекции с перечнем сопоставляемых объектов.</li>
<li><strong>Дубликаты:</strong> коллекции, содержащие список объектов из коллекции «Выделено» с повторяющимся ключом сопоставления.</li>
<li><strong>Справочник ключей:</strong> коллекции с перечнем сопоставляемых объектов без дубликатов.</li>
<li><strong>Сопоставлено:</strong> коллекции с объектами, которые были успешно сопоставлены.</li>
<li><strong>Не сопоставлено:</strong> коллекции с объектами, которые не удалось сопоставить.</li>
</ul>
<p><img alt="Типы коллекций" src="../../images/7_Workflow/Statistic/Statistic_workflow.png"/>
Входные коллекции должны содержать обязательные поля:</p>
<ul>
<li>Система.</li>
<li>Тип объекта. </li>
</ul>
<p><img alt="Источники" src="../../images/7_Workflow/Statistic/Source_field.png"/>
Несколько коллекций могут быть подключены к одному входу обработчика как:</p>
<ul>
<li>
<p><strong>Явно:</strong> пользователь вручную выбирает коллекции для входа.</p>
</li>
<li>
<p><strong>По маске:</strong> используется набор коллекций, соответствующих определенным условиям (например, все коллекции одного типа).</p>
</li>
</ul>
<h4 id="_24">Запуск обработчика</h4>
<p>Запуск обработчика происходит по аналогии с другими обработчиками текущего раздела.</p>
<h4 id="_25">Формирование отчета</h4>
<p>На выходе обработчика формируется коллекция со статистикой (таблица).</p>
<p><strong>Колонки таблицы:</strong> </p>
<ul>
<li><strong>Исключены из выгрузки:</strong> количество строк в соответствующих входных коллекциях.  </li>
<li><strong>Выделено:</strong> количество строк в коллекциях сопоставляемых объектов.  </li>
<li><strong>Дубликаты:</strong> количество строк с повторяющимися ключами.  </li>
<li><strong>Справочник ключей:</strong> количество строк сопоставляемых объектов без дубликатов.  </li>
<li><strong>Сопоставлено:</strong> количество успешно сопоставленных строк.  </li>
<li><strong>Не сопоставлено:</strong> количество не сопоставленных строк.  </li>
<li><strong>% сопост:</strong> процент строк в категории «Сопоставлено» относительно «Выделено».  </li>
</ul>
<p><img alt="Результат" src="../../images/7_Workflow/Statistic/statistic_result.png"/></p>
<h4 id="_26">Работа с таблицей</h4>
<ul>
<li>Переход к исходным коллекциям</li>
</ul>
<p>При нажатии на ячейку в колонках «Исключены из выгрузки», «Выделено», «Дубликаты», «Справочник ключей», «Сопоставлено» или «Не сопоставлено» осуществляется переход в исходную коллекцию с наложением фильтра по колонкам Система и Тип объекта.</p>
<blockquote>
<p>Этот функционал реализован с использованием сохранения значений фильтра таблицы в адресной строке браузера.</p>
</blockquote>
<h4 id="_27">Пример использования</h4>
<p>*** Входные коллекции:**</p>
<ul>
<li>Коллекция «Исключены из выгрузки»: 10 строк.</li>
<li>Коллекция «Выделено»: 100 строк.</li>
<li>Коллекция «Дубликаты»: 20 строк.</li>
<li>Коллекция «Справочник ключей»: 80 строк.</li>
<li>Коллекция «Сопоставлено»: 70 строк.</li>
<li>Коллекция «Не сопоставлено»: 30 строк.</li>
</ul>
<table>
<thead>
<tr>
<th>Система</th>
<th>Тип объекта</th>
<th>Исключены из выгрузки</th>
<th>Выделено</th>
<th>Дубликаты</th>
<th>Справочник ключей</th>
<th>Сопоставлено</th>
<th>Не сопоставлено</th>
<th>% сопост</th>
</tr>
</thead>
<tbody>
<tr>
<td>System A</td>
<td>Object 1</td>
<td>5</td>
<td>50</td>
<td>10</td>
<td>40</td>
<td>35</td>
<td>15</td>
<td>70%</td>
</tr>
<tr>
<td>System B</td>
<td>Object 2</td>
<td>5</td>
<td>50</td>
<td>10</td>
<td>40</td>
<td>35</td>
<td>15</td>
<td>70%</td>
</tr>
</tbody>
</table>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "header.autohide", "content.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}}</script>
<script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
</body>
</html>